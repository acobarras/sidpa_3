<div>
    <?php

    use MiApp\negocio\util\Validacion;

    $resolucion = 200;
    if (isset($_POST['resolucion'])) {
        $resolucion = $_POST['resolucion'];
    }

    $descripcion = $_POST['formulario']['descripcion'];
    if (strlen($descripcion) >= 33) {
        $descripcion1 = substr($descripcion, 0, 34);
        $descripcion2 = substr($descripcion, 34, strlen($descripcion));
    } else {
        $descripcion1 = substr($descripcion, 0, strlen($descripcion));
        $descripcion2 = "";
    }

    $data = $_POST['formulario'];

    $tipo = $_POST['tipo'];
    if ($tipo == 1) {
        $dato1 = 'O.P';
        $dato2 = $_POST['op'];
        $cantidad = 1;
    } else {
        $dato1 = 'Fecha';
        $dato2 = date("d-m-Y");
        $cantidad = $data['cantidad'];
    }

    $datos_operatio = $_POST['datos_persona'];
    $nombre = explode(' ', $datos_operatio->nombres);
    $apellido = explode(' ', $datos_operatio->apellidos);
    $operario =  $nombre[0] . ' ' . $apellido[0];
    $operario = Validacion::quitarTildes($operario);


    switch ($resolucion) {
        case '300':
            $zpl = '^XA            
            ^FO50,50^GFA,13348,13348,94,,::::::::::::::::::::::iI03FE,iI0IF,iH01IFC,iH01IFE,:hP01JFCL03JF,hP01JFCL07JF,
            ::::::hP01JFCL03IFE,hP01JFCL01IFC,hP01JFCM0IF,hP01JFCM03FE,hP01JFCN0F8,PFEgY01JFC,:::::::PFEgK03FFEP01JFCg
            I07FFCV07CY07FFO03FFEW07FFC,:PFEgJ03JFCM01OFEI07JFQ0KFCS03JFP03JFC01IFEM03JFEU07JF8M0KFCL03KF8,PFEgI07LFEL
            03PFI07JFO01MFEQ0MFCN07JFC1KFEK03MFS0MF8L0KFEL07KF,PFEgH01NF8K03PFI07JFO07NF8O03MFEN07JFC3LF8J0NFEQ03MFEL0
            7KFL07JFE,PFEgH0OFEK03PFI07JFN03PF8M03OFEM07JFDMFEI03OF8O01OFCK03KF8J01KFC,PFEgG01PF8J03PFI07JFN0QFCM07PFM
            07SFI07OFCO03OFEK01KFCJ03KFC,PFEgG0QFEJ03PFI07JFM07RFL01QFEL07SFC03QF8M01QFEK07JFEJ07KF,PFEgG0RFJ03PFI07JF
            M0SFL07RFL07SFE07QFCM03RFK07JFEJ0KFE,:PFEg01RF8I03PFI07JFM0SFL0SF8K07TF07QFCM07RFK07KFJ0KFE,PFEg07RFEI03PF
            I07JFL03SFK01SFEK07TF1RFEL01SFCJ03KFC001KF8,PFEg0TFI03PFI07JFL07SFK03SFEK07TFBSFL03SFEJ01KFC003KF8,PFEY03T
            F8003PFI07JFK01TFK0UF8J07gNF8K07TF8J07KF007KF,PFEY03TFC003PFI07JFK01TFJ01UFCJ07gNFCK07TF8J07KF00KFE,PFEY07
            KFJ0KFCJ01JFCL07JFK03LFE007JFJ03MF87LFEJ07LFEI0OF8007KFEK0KFEI01KFCJ01KF81KFC,PFEY0KFEJ01JFEJ01JFCL07JFK07
            LF8I07IFJ03LF8007KFEJ07LF8I07NFI01KFEJ01KF8J07JFEJ01KFC3KF8,:PFEY0KF8K0KFJ01JFCL07JFK0LFCJ01IFJ07KFCI01LFJ
            07LFJ01MFCJ0KFEJ03KFK01JFEJ01KFC3KF,PFEX01JFEL03JF8I01JFCL07JFJ01LFL01FFJ0KFEK03KF8I07KFCK07LFK03JFEJ07JF8
            L07JFK07KF7JFE,PFEX03JFCL01JF8I01JFCL07JFJ03KFCM07FJ0KFCL0KF8I07KF8K07LFK03KFJ07JF8L03JF8J03PFE,PFEX07JF8M
            07IFCI01JFCL07JFJ03KFO07I01KFM03JFCI07JFEL07KFCK01KFJ0JFEM01JFCJ01PFC,PFEX07JFN07IFCI01JFCL07JFJ07JFEO07I0
            3JFEM01JFEI07JFEL03KF8K01KFJ0JFEN0JFCK0PF8,PFEX07IFEN03IFEI01JFCL07JFJ07JFCS07JFCN0KFI07JFCL01KFM0KFI01JFC
            N07IFEK0OFE,PFEX07IFEN03IFEI01JFCL07JFJ07JFCS07JF8N0KFI07JFCL01JFEM0KF8001JFCN07IFEK07NFE,:PFEX07VFEI01JFC
            L07JFJ07JF8S07JFO07JFI07JFCL01JFEM07JF8001WFEK03NFC,PFEX0WFEI01JFCL07JFJ0KFT07IFEO03JF8007JFCM0JFEM07JF800
            1WFEK01NF8,PFEX0XFI01JFCL07JFJ0KFT07IFEO03JF8007JFCM0JFEM07JF8001WFEL0NF8,PFEX0XFI01JFCL07JFJ0JFET07IFCO01
            JF8007JFCM0JFEM07JF8001WFEL07LFE,PFEX0XFI01JFCL07JFJ0JFET07IFCO01JF8007JFCM0JFEM03JF8003XFL03LFC,PFEX0XFI0
            1JFCL07JFI01JFCT0JF8P0JF8007JFCM0JFEM03JF8003XFL03LF8,:QFX0XFI01JFCL07JFI01JFCT0JF8P0JF8007JFCM0JFEM03JF80
            03XFL01LF8,7gFEM0XFI01JFCL07JFI01JFCT0JF8P0JF8007JFCM0JFEM03JF8003XFM07KF,3gFEM0XFI01JFCL07JFI01JFCT0JF8P0
            JF8007JFCM0JFEM03JF8003XFM0LF,1gFEM0XFI01JFCL07JFI01JFCT0JF8P0JF8007JFCM0JFEM03JF8003XFL01LF8,0gFEM0JFCV01
            JFCL07JFI01JFET0JF8P0JF8007JFCM0JFEM03JF8001JF8Y03LFC,07YFEM0JFCV01JFCL07JFJ0JFET07IF8P0JF8007JFCM0JFEM03J
            F8001JF8Y03LFC,01YFEM0JFCV01JFCL07JFJ0JFET07IFCO01JF8007JFCM0JFEM03JF8001JF8Y07MF,:00YFEM07IFEV01JFCL07JFJ
            0KFT07IFCO01JF8007JFCM0JFEM03JF8001JF8Y0NF,007XFEM07IFEV01JFCL07JFJ0KF8S07IFEO03JF8007JFCM0JFEM03JF8001JFC
            X01NFC,003XFEM07JFV01JFCL07JFJ07JF8S07JFO07JFI07JFCM0JFEM03JF8001JFCX03NFC,001XFEM07JFV01JFCL07JFJ07JFCS07
            JF8N07JFI07JFCM0JFEM03JF8001JFEX07NFC,I07WFEM07JF8U01JFCL07JFJ07JFEO01I03JFCM01JFEI07JFCM0JFEM03JF8I0KFX0P
            F,I07WFEM03JFCU01JFCL07JFJ07JFEO07I03JFEM01JFEI07JFCM0JFEM03JF8I0KF8P01L0PF8,I01WFEM03JFEP07J01JFCL07JFJ03
            KF8M01FI01KFM07JFCI07JFCM0JFEM03JF8I07JFCP07K03PFC,:J0WFEM01KFP0FJ01JFCL07JFJ03KFCM03FI01KF8L0KFCI07JFCM0J
            FEM03JF8I03JFEO01FK03PFE,J03VFEN0KFCN0FFJ01JFCL07JFJ01LFL03FFJ07KFK03KF8I07JFCM0JFEM03JF8I01KF8N0FFK0KFE7J
            FE,J01VFEN07KFM03FFJ01JFCL07JFK0LFCK0IFJ07KF8J0LFJ07JFCM0JFEM03JF8I01KFCM03FFK0KFE3KF,K0VFEN03LFK07IFJ01JF
            EL07JFK07LFC003JFJ03LFC00LFEJ07JFCM0JFEM03JF8J07KFCK0JFJ01KF83KFC,K07UFEN03LFCI07JFJ01KFL07JFK03TFJ03UFEJ0
            7JFCM0JFEM03JF8J07LF8I0KFJ03KF01KFC,K03UFEN03UFJ01KF8K07JFK01TFJ01UFCJ07JFCM0JFEM03JF8J07UFJ03KF00KFE,L0UF
            EO0UFJ01MFCI07JFK01TFK07TF8J07JFCM0JFEM03JF8J01UFJ0KFE007KF8,:L0UFEO07TFJ01MFCI07JFL0TFK07TFK07JFCM0JFEM03
            JF8K0UFI01KFE003KF8,L03TFEO01TFK0MFCI07JFL03SFK01SFCK07JFCM0JFEM03JF8K03TFI03KF8001KFC,L01TFEP0TFK07LFCI07
            JFL01SFL0SFCK07JFCM0JFEM03JF8K03TFI07KFI01KFC,M07SFEP03RFEK03LFCI07JFM07RFL03QFEL07JFCM0JFEM03JF8L0SFEI07J
            FEJ07KF,M03SFEP01RFCK01LFCI07JFM03QFEM0QFCL07JFCM0JFEM03JF8L03RF8I0KFEJ03KF8,M03SFEQ07QF8K01LFCI07JFN0QFCM
            07PFM07JFCM0JFEM03JF8L01RF8001KFCJ03KF8,:N0SFEQ01PFCM07KFCI07JFN03PFN01OFCM07JFCM0JFEM03JF8M03PF8I03KF8K0K
            FC,N07RFER07OFN03KFCI07JFO0OFCO07NFN07JFCM0JFEM03JF8N0PFJ07KFL0KFE,N01RFES07LFEP07JFCI07JFP0MFCQ03LFO07JFC
            M0JFEM03JF8O0MF8K0KFEL07KF,N01RFET0LFQ01JFCI07JFQ0KFES0KFCO07JFCM0JFEM03JF8O01KFCL0KFCL03KF8,O07QFE,O03QFE
            ,O01QFE,:P0QFE,P07PFE,,::::::::::::::::::^FS
            ^FT16,198^A0N,42,43^FH\^FDCodigo:^FS
            ^FT16,281^A0N,42,43^FH\^FDDescripcion:^FS
            ^FT16,389^A0N,42,43^FH\^FDAncho:^FS
            ^FT894,389^A0N,42,43^FH\^FDPeso:^FS
            ^FT16,482^A0N,42,43^FH\^FD' . $dato1 . ':^FS
            ^FT379,482^A0N,42,43^FH\^FDOperario:^FS
            ^FT379,389^A0N,42,43^FH\^FDMetros Lineales: ^FS
            ^FT915,238^BQN,2,7
            ^FH\^FDLA,' . $data['codigo'] . ';' . $data['ancho'] . ';' .  $data['ml'] . '^FS
            ^FO5,226^GB1169,350,3^FS
            ^FO5,334^GB1165,0,3^FS
            ^FO5,422^GB1165,0,3^FS
            ^FO364,337^GB0,168,3^FS
            ^FO875,336^GB0,86,3^FS
            ^FT249,283^AAN,36,20^FH\^FD' . $descripcion1 . '^FS
            ^FT16,321^AAN,36,20^FH\^FD' . $descripcion2 . '^FS
            ^FT180,194^AAN,36,20^FH\^FD' . $data['codigo'] . '^FS
            ^FT149,389^AAN,36,20^FH\^FD' . $data['ancho'] . '^FS
            ^FT676,389^AAN,36,20^FH\^FD' . $data['ml'] . '^FS
            ^FT994,389^AAN,36,20^FH\^FD' . $data['peso'] . '^FS
            ^FT131,478^AAN,36,15^FH\^FD' . $dato2 . '^FS
            ^FT560,478^AAN,36,20^FH\^FD' . $operario . '^FS
            ^FO5,501^GB1165,0,3^FS
            ^FT18,557^A0N,42,40^FH\^FDLote:^FS
            ^FT118,557^AAN,36,20^FH\^FD' . $data['lote'] . '^FS
            ^PQ' . $cantidad . ',0,1,Y^XZ';
            echo $zpl;
            break;

        default: // 200 por defecto
            $zpl = '~DG000.GRF,07168,056,
            ,::::::::::::::::::::::::::gY0F80,gX03FC0,gX03FE0,gQ03FF80H07FF0,::::gQ03FF80H07FE0,gQ03FF80H03FE0,gQ03FF80I0F80
            ,H0LF80gG03FF80,::::H0LF80S07F80J03FF80R0HFO01C0O01FC0J0HFP0HF0,H0LF80R0JF80H07FJF807FF0J03FIF80J01FIF80I07FF8FH
            FC001FIF80K01FIFI01FHF80H0IFC0,H0LF80Q03FIFE0H07FJF807FF0J07FIFC0J03FIF80I07FF9FHFE003FIFE0K03FIF80H0IFC0H0IF80,
            H0LF80Q0LF8007FJF807FF0I03FKF80H01FKFJ07FLF80FKFK01FKFI0IFE003FHF,H0LF80P03FKFE007FJF807FF0I0MFE0H07FKFE0H07FLFE
            3FKFE0I07FKFC003FFE007FFE,H0LF80P03FKFE007FJF807FF0I0MFE0H0MFE0H07FLFE3FKFE0I0MFC003FHFH07FFE,H0LF80P07FLFH07FJF
            807FF0H01FLFE001FMFI07FLFE7FKFE0H01FMFH01FHF80FHF8,H0LF80O01FMFC07FJF807FF0H07FLFE003FMFC007FUF8003FMF801FHFC1FH
            F8,H0LF80O03FMFC07FJF807FF0H0NFE007FMFE007FUFC007FMFC007FFE3FHF0,H0LF80O03FFE001FFE003FF80H07FF0H0JF807FE007FHF8
            1FHFE007FHF803FIFE01FHFC007FFC007FFE003FFE7FFE0,H0LF80O03FFE001FFE003FF80H07FF001FIF807FE00FIF81FHFE007FHF803FIF
            E01FHFC00FHFC007FFE003FFE7FFE0,H0LF80O07FF80H0IFH03FF80H07FF003FHFC0H07E01FHF8003FHFH07FHFI07FHF8007FFC00FHFJ0IF
            H01FKFC0,H0LF80O0IFJ03FF003FF80H07FF003FFE0J0E03FFE0I0IF807FFC0H07FHFI03FFC01FFE0I07FF0H0LF80,H0LF80O0HFE0I01FF8
            03FF80H07FF003FFC0L03FFC0I03FFC07FF80H03FFC0H03FFC01FFC0I03FF8007FJF,H0LF80O0HFE0I01FF803FF80H07FF003FFC0L03FFC0
            I03FFC07FF80H03FFC0H03FFE01FFC0I03FF8007FJF,H0LF80N01FOF803FF80H07FF007FFC0L03FF80I03FFC07FF80H03FFC0H01FFE01FOF
            8003FIFE,H0LF80N01FOFC03FF80H07FF007FF80L03FF80I01FFC07FF80H03FFC0H01FFE01FOF8001FIFE,H0LF80N01FOFC03FF80H07FF00
            7FF0M03FF0J01FFC07FF80H03FFC0H01FFE03FOF80H0JF8,H0LF80N01FOFC03FF80H07FF00FHFN07FE0K0HFC07FF80H03FFC0H01FFE03FOF
            80H0JF0,H0LFC0N01FOFC03FF80H07FF00FHFN07FE0K0HFC07FF80H03FFC0H01FFE03FOF80H07FHF0,H07FPFE0H01FOFC03FF80H07FF00FH
            FN07FE0K0HFC07FF80H03FFC0H01FFE03FOF80H07FHF0,H03FPFE0H01FOFC03FF80H07FF00FHFN07FE0K0HFC07FF80H03FFC0H01FFE03FOF
            80H0JF8,H01FPFE0H01FFC0N03FF80H07FF007FF0M03FF0J01FFC07FF80H03FFC0H01FFE01FF80P0JFC,I0QFE0H01FFC0N03FF80H07FF007
            FF0M03FF0J01FFC07FF80H03FFC0H01FFE01FF80P0JFC,I07FOFE0I0HFE0N03FF80H07FF007FFC0L03FF80I01FFC07FF80H03FFC0H01FFE0
            1FFC0O03FIFE,I03FOFE0I0HFE0N03FF80H07FF003FFC0L03FFC0I03FFC07FF80H03FFC0H01FFE01FFE0O07FIFE,J0PFE0I0IFO03FF80H07
            FF003FFE0J0203FFC0I07FF807FF80H03FFC0H01FFE01FFE0O07FJF,J0PFE0I07FF80J06003FF80H07FF003FHFJ01E03FFE0I0IF807FF80H
            03FFC0H01FFE01FHFL06001FKF80,J07FNFE0I07FFC0J06003FF80H07FF003FHFJ01E01FHFI01FHFH07FF80H03FFC0H01FFE00FHF80J0E00
            1FKFC0,J03FNFE0I03FHFJ07E003FF80H07FF001FHFE001FE00FHFC007FHFH07FF80H03FFC0H01FFE007FFE0I07E003FHF7FFE0,K0OFE0I0
            1FHFC003FE003FFC0H07FF0H0JF80FFE007FHF81FHFE007FF80H03FFC0H01FFE003FHF8007FE003FFE7FHF0,K0OFE0I01FMFE003FFE0H07F
            F0H0NFE007FMFE007FF80H03FFC0H01FFE003FMFE007FFC3FHF0,K03FMFE0J0NFE003FIFH07FF0H07FLFE003FMFC007FF80H03FFC0H01FFE
            001FMFE00FHFC1FHF8,K03FMFE0J07FLFE003FIFH07FF0H03FLFE003FMF8007FF80H03FFC0H01FFE0H0NFE01FHFC0FHF8,K01FMFE0J03FLF
            E003FIFH07FF0H01FLFE001FMFI07FF80H03FFC0H01FFE0H07FLFE03FHF80FHFC,L07FLFE0K0MFE0H0JFH07FF0I0MFE0H07FKFC0H07FF80H
            03FFC0H01FFE0H03FLFE03FFE007FHF,L07FLFE0K07FKFC0H0JFH07FF0I03FKF80H01FKFJ07FF80H03FFC0H01FFE0I0MF807FFE003FHF,L0
            1FLFE0K03FKFJ07FHFH07FF0I01FKFK0KFE0I07FF80H03FFC0H01FFE0I03FJFE00FHFC001FHF,L01FLFE0L0KFE0I03FHFH07FF0J07FIFE0J
            07FIFC0I07FF80H03FFC0H01FFE0I01FJFC01FHFC001FHFC0,M0MFE0M0IFC0K07FF007FF0K07FFE0L07FFE0J07FF80H03FFC0H01FFE0J01F
            HF8001FHF80H0IFC0,M03FKFE0,M01FKFE0,:,:::::::::::::::::::::::::::::::::::::::::^XA
            ^MMT
            ^PW799
            ^LL0400
            ^LS0
            ^FT32,96^XG000.GRF,1,1^FS
            ^FT11,134^A0N,28,28^FH\^FDCodigo:^FS
            ^FT11,190^A0N,28,28^FH\^FDDescripcion:^FS
            ^FT11,261^A0N,28,28^FH\^FDAncho:^FS
            ^FT605,259^A0N,28,28^FH\^FDPeso:^FS
            ^FT11,326^A0N,28,28^FH\^FD' . $dato1 . ':^FS
            ^FT257,326^A0N,28,28^FH\^FDOperario:^FS
            ^FT257,259^A0N,28,28^FH\^FDMetros Lineales: ^FS
            ^FT619,165^BQN,2,5
            ^FH\^FDLA,' . $data['codigo'] . ';' . $data['ancho'] . ';' .  $data['ml'] . '^FS
            ^FO3,153^GB791,237,2^FS
            ^FO3,226^GB788,0,2^FS
            ^FO3,285^GB788,0,2^FS
            ^FO246,228^GB0,113,2^FS
            ^FO592,227^GB0,58,2^FS
            ^FT168,187^AAN,27,15^FH\^FD' . $descripcion1 . '^FS
            ^FT11,220^AAN,27,15^FH\^FD' . $descripcion2 . '^FS
            ^FT122,137^AAN,27,15^FH\^FD' . $data['codigo'] . '^FS
            ^FT101,262^AAN,27,15^FH\^FD' . $data['ancho'] . '^FS
            ^FT457,262^AAN,27,15^FH\^FD' . $data['ml'] . '^FS
            ^FT673,262^AAN,27,15^FH\^FD' . $data['peso'] . '^FS
            ^FT90,322^AAN,27,10^FH\^FD' . $dato2 . '^FS
            ^FT379,322^AAN,27,15^FH\^FD' . $operario . '^FS
            ^FO3,339^GB788,0,2^FS
            ^FT12,379^A0N,28,28^FH\^FDLote:^FS
            ^FT80,378^AAN,27,15^FH\^FD' . $data['lote'] . '^FS
            ^PQ' . $cantidad . ',0,1,Y^XZ
            ^XA^ID000.GRF^FS^XZ';
            echo $zpl;
            break;
    }

    ?>
</div>