<div>
    <?php

    use MiApp\negocio\util\Validacion;

    $resolucion = 200;
    if (isset($_POST['resolucion'])) {
        $resolucion = $_POST['resolucion'];
    }

    $descripcion = $_POST['formulario']['descripcion'];
    if (strlen($descripcion) >= 33) {
        $descripcion1 = substr($descripcion, 0, 34);
        $descripcion2 = substr($descripcion, 34, strlen($descripcion));
    } else {
        $descripcion1 = substr($descripcion, 0, strlen($descripcion));
        $descripcion2 = "";
    }

    $data = $_POST['formulario'];

    $tipo = $_POST['tipo'];
    if ($tipo == 1) {
        $dato1 = 'O.P';
        $dato2 = $_POST['op'];
        $cantidad = 1;
    } else {
        $dato1 = 'Fecha';
        $dato2 = date("d-m-Y");
        $cantidad = $data['cantidad'];
    }

    $datos_operatio = $_POST['datos_persona'];
    $nombre = explode(' ', $datos_operatio->nombres);
    $apellido = explode(' ', $datos_operatio->apellidos);
    $operario =  $nombre[0] . ' ' . $apellido[0];
    $operario = Validacion::quitarTildes($operario);


    switch ($resolucion) {
        case '300':
            $zpl = '^XA            
            ^FO220,20^GFA,11122,11122,67,,::::T01IFE,:S03LF8,R07NFC,Q03IF8003IF8,Q0FFC001I0FFE,P03FEI018I07FC,P0FEJ03CJ0FF,
            O03F8J03CJ03FC,:O07EK0FEK0FE,N07F8K0FEK01F8,N0FFK01EFL0FC,:M01FCK03E78K03EgR07CgY0F8,M03F8K03C38K01FgR0FFgX07FE
            ,M0F8L07C3CL078gP01FF8gW07FE,:L01FM0701CL03F8gO03FF8N01FCgL0IF,L03EL01F01EL01F8N0NFS03FF8M07JFgK0IFJ0FF,L03CL03
            E00EM0FCM01NFS03FF8L03LFgJ0IFI03FF,L078L03C00FM07EM03NFS03FF8L0MFCgI0IFI07FF,L0FM07C0078L03FM07NFL07CK03FF8K01M
            FEgI0IFI0IF,K01EM0780038M078L07NFK03FCK01FF8K0OFCgH07FEI0IF,:K07CM0F8003CM03CL07MFEK07FCL0FFK01OFCgH01FCI0IF,K0
            F8M0EI01CM03CL07MFEK0FFCL03CK03OFgJ0F8I0IF,K0F8L01EI01FM01EL07MFCJ01FFCS07NFCgO0IF,J01FM03CJ0FN0FL07LFEK01FFCS0
            JFE07FFgP0IF,:J01EM038J078M07L07FFP01FFCR01IFCgU0IF,J03EM078J07CM078K07FFP01FFCR03IFgV0IF,J078M07K03CM038K07FFP
            01FFCR07FFES03FgG0IF,:J077NFK03NFBCK07FFP03FFCL03F8I07FFCR0JFU03FI0IF03FFP03FFC,J0F1MFEL0NF9CK07FFO07LFEI0FF8I0
            IF8Q03JFCK03F01FE001FFI0IF1IFEN01JF8,J0E0MFCL0NF1EK07FFO0MFE001FF8I0IFR0LFK0FF0IF807FFI0IF3JF8M07JFE,:I01C07Y07
            E0FK07FFN01MFE003FF8001FFEQ03LFCI03FF3IF80IFI0OF8K07LF8,I01C078X07C07K07FFN01MFC003FF8001FFCQ07LFEI03LF00IFI0OF
            CK0MFC,:I03C038X0FC078J07FFN01MFC003FF8003FFCQ07LFEI07KFE00IFI0OFEJ01MFE,I03801CX0F8038J07FFN01MF8003FF8003FFR0
            FC003IFI07KFC00IFI0OFEJ03NF,I03801EW01F8038J07FFN01LFEI03FF8003FFR0EI01IFI07KF800IFI0PFJ07IF0JFC,:I07800EW01C00
            3EJ07MFEJ01FFCK03FF8003FFW0IF8007IFCJ0IFI0JF807IF8I0IFC007FFC,I07I0FW03C001EJ07MFEJ01FFCK03FF800FFEW07FF8007FFE
            K0IFI0IFE001IF8I0IFI03FFE,I07I07W078001EJ07MFEJ01FFCK03FF800FFEW03FF8007FFCK0IFI0IFCI0IFC001FFEI01FFE,I07I078V0
            7I01EJ07MFEJ01FFCK03FF800FFEW03FF8007FF8K0IFI0IF8I0IFC001FFEI01FFE,:001FI03CV0FI01FJ07MFEJ01FFCK03FF800FFEW03FF
            8007FF8K0IFI0IF8I03FFC001FFCJ0IF,001EI01CV0EI01FJ07MFEJ01FFCK03FF800FFES03FF83FFC007FF8K0IFI0IFJ01FFC007FF8J0IF
            ,001EI01F8T01EJ0FJ07MFCJ01FFCK03FF800FFER01JF3FFC007FFL0IFI0IFJ01FFE007FF8J07FF,:001EJ0F8T01CJ0FJ07MF8J01FFCK03
            FF800FFER03MFC007FFL0IFI0IFJ01FFE007FF8J07FF,001EJ07CT078J0FJ07FFP01FFCK03FF800FFEQ01NFC007FFL0IFI0IFK0FFE007FF
            BMF8,:001EJ07ET07K0FJ07FFP01FFCK03FF800IFQ01NFC007FFL0IFI0IFK0FFE00QF,003EJ03FT0FK0FJ07FFP01FFCK03FF800IFQ03NFC
            007FFL0IFI0IFK0FFE00QF,003EK07T0EK0FJ07FFP01FFCK03FF8003FFQ03FFE03IFC007FFL0IFI0IFK0FFE00PFE,:003EK078R01EK0FJ0
            7FFP01FFCK03FF8003FFCP07FF800IFC007FFL0IFI0IFK0FFE00PFC,003CK038R01CK0F8I07FFP01FFCK03FF8003FFCP07FFI07FFC007FF
            L0IFI0IFK0FFE00PF,003EK078R01EK0FJ07FFP01FFCK03FF8003FFCP07FEI03FFC007FFL0IFI0IFK0FFE00OFC,:003EK07T0EK0FJ07FFP
            01FFCK03FF8001FFEP07FEI03FFC007FFL0IFI0IFK0FFE007LFC,003EJ03FT0FK0FJ07FFP01FFCK03FF8001FFEP07FEI03FFC007FFL0IFI
            0IFJ01FFE007IFC,001EJ03ET07K0FJ07FFP01FFCK03FF8001IFP07FEI03FFC007FFL0IFI0IFJ01FFC007FFC,001EJ07CT078J0FJ07FFP0
            1FFCK03FF8I0IF8O07FEI03FFC007FFL0IFI0IFJ03FFC007FFC,:001EJ0FCT03CJ0FJ07FFP01FFCK03FF8I0IFCL07007FEI03FFC007FFL0
            IFI0IF8I03FFC007FFE,001EJ0F8T01CJ0FJ07FFP01FFCK03FF8I07FFEK01F007FEI03FFC007FFL0IFI0IFCI0IF8001FFE,001EI01F8T01
            EJ0FJ07FFP01FFCK03FF8I03IF8J0FF007FFI07FFC007FFL0IFI0IFE001IF8001IFK07,001EI01CV0EJ0FJ07FFP01FFE001803FF8I03IFE
            I07FE007FF801IFC007FFL0IFI0JF003IFJ0IFCI03F,001FI03CV0FI01FJ07MF8J01FFE00F803FF8I01KFDIFC003IFCJFC007FFL0IFI0JF
            C0IFEJ0JF001FF,I07I078V07I01EJ07MFEK0IFEFF803FF8J0OFC003NFC007FFL0IFI0OFEJ07NF,:I07I07W078001EJ07MFEK0LF003FF8J
            07NF8001NFC007FFL0IFI0OFCJ07MFE,I07I0FW03C001EJ07NFK07JFE003FF8J03NFI01NFC007FFL0IFI0OF8J03MFC,I07800EW01C003EJ
            07NFK07JF8003FF8J01MFEJ0NFC007FFL0IFI0FFDKFEK01MF8,:I03801EW01F8038J07NFK03JFI03FF8K03LFK07JFEFFC007FEL0FFEI0FF
            CKF8L0LFE,I03801CX0F8038J07NFK01IFEI03FFM0KFEK01JFC3FC007FCL0FFEI0FF87JFM03KFC,I03C03CX0FC078J07NFL07FF8I03FEM0
            3JFM0JF03FC007FM0FFCI0FC03IFCN07JF,:I01C078X07E07K07NFL01FCJ03EO01FF8M01FF80078007N0FEJ0CI07FCO01IF8,I01C07Y03E
            0F,I01E0FY03F0E,J0E0MFCL0NF1E,J0F1MFEL0NF9C,J071NFK03NFBC,J078M07K03CM038R02iS03,:J03EM078J07CM078K01FFE0207W08
            U04L08gR0302,J01EM038J078M07L018I0202W08U04L08gT02,J01FM03CJ0FN0FL01J02Y08U04L08gT02,:K0F8L01EI01FM01EL01J02Y08
            U04L08gT02,K0F8M0EI01CM03CL01J06Y08U04L08gT02,K07CM0F8003CM03CL01I01FE200FE102001007E00FF00FE203CJ07F0401F80080
            021F81FI07E2027I01FFI0FE204E1023F8001F8,:K01EM0780038M078L01J060203C19020010181C01807C12063J0E0E4030700800220C6
            1803C12028I0301C01812050102C0C0060C,L0FM07C0078L03FM01J020207005020010200E0080E00A04J0180140401C08003C068040600
            A03J040060200A06010380200C02,L078L03C00FM07EM01FFE02020C00302001040030080800604J03I0C0C00E080030030040400603J08
            J0C00606010300100801,:L03CL03E00EM0FCM01FFE02020800302001040010081I0204J02I0C08002080030030040C00202I018I01C002
            04010200187801C,L03EL01F01EL01F8M01J020218001020010C0010081I0206J06I0418002080030030040800202I01J01I02040102I08
            7I0C,L01FM0701CL03CN01J02021I01020010JF8081I0203J04I041JF080020030060800202I01J01I02040102I087IFC,M0F8L07C3CL07
            8N01J02021I010200108K081I0200CI04I041K080020020060800202I01J01I02040102I087,M03F8K03C38K01FO01J02021I010200108K
            081I02002I04I041K080020020060800202I01J01I02040102I087,M01FCK03E7L03EO01J020208003020030CK081I02001I06I0C18J080
            020020060800202I01J01I02040102I087,N0FFK01EFL0FCO01J0202080030200204K0818006001I02I0C08002080020020060C00202I01
            8I01C00204010200107801,:N07F8K0FEK01F8O01J02020C007030020600200808006001I03001C0C00E080020020060400602J0CJ0E006
            04010300300801,O07EK0FEK0FEP018I020207009010060300E0080600A083I0180240601C080020020060380A02J0600C0300A04010280
            600402,O03F8J03CJ03FCP01FFE020200E3100EFC01E3C00801E72066J0F1C4038F00800200200601E3202J03C3801C3204010279C0039C
            ,:P0FEJ03CJ0FFgG01C1003CI07CL0380018K0EJ0FU038N03CI03O06J0F,P03FEI018I07FCgI01,Q0FFC001I0FFEgJ01,:Q03IF8003IF8g
            J01,R07NFCgK01,S03LF8gL01,T01IFE,,:::::::::::::::::::::::::::::::::::^FS
            ^FT16,198^A0N,42,43^FH\^FDCodigo:^FS
            ^FT16,281^A0N,42,43^FH\^FDDescripcion:^FS
            ^FT16,389^A0N,42,43^FH\^FDAncho:^FS
            ^FT894,389^A0N,42,43^FH\^FDPeso:^FS
            ^FT16,482^A0N,42,43^FH\^FD' . $dato1 . ':^FS
            ^FT379,482^A0N,42,43^FH\^FDOperario:^FS
            ^FT379,389^A0N,42,43^FH\^FDMetros Lineales: ^FS
            ^FT915,238^BQN,2,7
            ^FH\^FDLA,' . $data['codigo'] . ';' . $data['ancho'] . ';' .  $data['ml'] . '^FS
            ^FO5,226^GB1169,350,3^FS
            ^FO5,334^GB1165,0,3^FS
            ^FO5,422^GB1165,0,3^FS
            ^FO364,337^GB0,168,3^FS
            ^FO875,336^GB0,86,3^FS
            ^FT249,283^AAN,36,20^FH\^FD' . $descripcion1 . '^FS
            ^FT16,321^AAN,36,20^FH\^FD' . $descripcion2 . '^FS
            ^FT180,194^AAN,36,20^FH\^FD' . $data['codigo'] . '^FS
            ^FT149,389^AAN,36,20^FH\^FD' . $data['ancho'] . '^FS
            ^FT676,389^AAN,36,20^FH\^FD' . $data['ml'] . '^FS
            ^FT994,389^AAN,36,20^FH\^FD' . $data['peso'] . '^FS
            ^FT131,478^AAN,36,15^FH\^FD' . $dato2 . '^FS
            ^FT560,478^AAN,36,20^FH\^FD' . $operario . '^FS
            ^FO5,501^GB1165,0,3^FS
            ^FT18,557^A0N,42,40^FH\^FDLote:^FS
            ^FT118,557^AAN,36,20^FH\^FD' . $data['lote'] . '^FS
            ^PQ' . $cantidad . ',0,1,Y^XZ';
            echo $zpl;
            break;

        default: // 200 por defecto
            $zpl = '~DG000.GRF,06656,052,
            ,:::::::::Q07FF80,P0KF8,O07FKF,N01FFC00FFE0,N07F80200FF0,M03FC007001FF,M0FC0H070H01F80,L01F0I0F80H07C0,L07E0I0F80
            H01F0,L0FC0H01DC0I0F8,L0F0I03DE0I07C0gH01C0gN070,K07E0I038F0I03E0gH07F80gL01FC,K0F80I03070J0780gG0HF80K07C0X03FE,
            J01F0J070780I0380K0LF80N0HF80J07FFE0W03FE001F80,J01E0J0E0380I03C0J01FKF80N0HF80I03FIFC0V03FE003F80,J01C0J0E0380I0
            1E0J03FKF80N0HF80I07FJFW03FE007F80,J0780I01E01C0J0F0J07FKF80H0FC0I0HF80H03FKFC0U03FE00FF80,J0F0J03C00E0J0380I07FK
            FJ0FC0I03F0I07FKFC0V0F800FF80,I01E0J03800E0J0380I07FKFI01FC0I01C0I0MF80V070H0HF80,I01E0J07800F0J01C0I07FJFE0H03FC
            0O0MFgH0HF80,I03C0J0F0H070J01E0I07FJFJ03FC0N01FHF87FC0gG0HF80,I0780J0E0H03C0J0F0I07FC0L03FC0N07FFC0gK0HF80,I070K0
            C0H01C0J070I07FC0L03FC0N0HFE0O0F80T0HF80,I06FKFC0H01FKF780H07FC0L07FC0I01F800FFC0N0IFQ03E00FF87F80L0HF8,I0E7FJF80
            I0LF380H07FC0K03FJF803F801FFC0M01FHF80H01F07E00FE00FF9FFE0K03FFE,I0C3FJF80I0LF3C0H07FC0K07FJF807F801FF80M07FHFE0H
            03F1FF01FE00FFBFHF80J0JF80,H01C380S0F1C0H07FC0K07FJF807F801FF0N0KFI07F3FF01FE00FKFC0I03FIFC0,H01C1C0R01E1C0H07FC0
            K0LF80FF801FF0M03FJF800FJF03FE00FLFJ07FJF0,H03C1C0R03C0E0H07FC0K0LFH0HF803FE0M03FJF801FIFE03FE00FLF80H0LF0,H0380E
            0R038060H07FC0K0KFE00FF803FC0M03E01FFC01FIFC03FE00FLF8001FKF8,H0380F0R038060H07FC0K0KF800FF803FC0M030H0HFC01FIF80
            3FE00FLFC003FFC7FFC,H078070R030070H07FKFI03FC0I0HF803FC0Q07FE01FHFI03FE00FHF83FFC007FF00FFC,H0700780Q0F0070H07FKF
            I03FC0I0HF807F80Q03FE01FFC0H03FE00FFE00FFE00FFE007FE,H0700380Q0E0070H07FKFI03FC0I0HF807F80Q03FE01FF80H03FE00FF800
            7FE00FFC007FE,H0F001C0P01E0078007FKFI03FC0I0HF807F80Q03FE01FF80H03FE00FF8003FE00FF8003FF,H0E0H0C0P01C0078007FKFI0
            3FC0I0HF807F80N01FC3FF01FF80H03FE00FF8001FE00FF0H03FF,H0E0H0E0P03C0038007FJFE0H03FC0I0HF807F80N0IFBFF01FF0I03FE00
            FF8001FF00FF0H01FF,H0E0H0E0P0380038007FJFC0H03FC0I0HF807F80M01FKF01FF0I03FE00FF8001FF00FF0H01FF,H0E0H0F0P0F800380
            07FJF80H03FC0I0HF807F80M07FKF01FF0I03FE00FF80H0HFH0HF7FJF80,H0E0H0780O0E0H038007FC0L03FC0I0HF807FC0M07FKF01FF0I03
            FE00FF80H0HF01FMF,H0E0H03C0O0E0H038007FC0L03FC0I0HF807FC0M0MF01FF0I03FE00FF80H0HF01FMF,H0E0H01C0O0C0H038007FC0L03
            FC0I0HF803FC0M0HFC1FHF01FF0I03FE00FF80H0HF01FLFE,H0E0H01E0N01C0H038007FC0L03FC0I0HF803FE0L01FF807FF01FF0I03FE00FF
            80H0HF01FLFC,H0E0H01E0N01C0H03C007FC0L03FC0I0HF803FE0L01FF003FF01FF0I03FE00FF80H0HF01FLF8,H0E0H01C0O0C0H038007FC0
            L03FC0I0HF801FF0L01FF003FF01FF0I03FE00FF80H0HFH0KF8,H0E0H03C0O0E0H038007FC0L03FC0I0HF801FF0L01FF003FF01FF0I03FE00
            FF8001FF00FHF0,H0E0H0380O0E0H038007FC0L03FC0I0HF801FF80K01FF003FF01FF0I03FE00FF8001FE00FF80,H0E0H070P0F0H038007FC
            0L03FC0I0HF801FFC0K01FF003FF01FF0I03FE00FF8003FE00FF80,H0E0H0F0P0780038007FC0L03FC0I0HF801FFE0I0781FF003FF01FF0I0
            3FE00FFC007FE00FFC0,H0E0H0E0P03C0038007FC0L03FC0I0HF8007FF8001F81FF003FF01FF0I03FE00FFE00FFC00FFE0H018,H0E0H0C0P0
            1C0038007FC0L03FE00C0FF8007FFE007F01FF80FHF01FF0I03FE00FHF01FFC007FF0H0F8,H0F001C0P01E0078007FJFC0H03FE03C0FF8003
            FHFEFHFH0IF7FHF01FF0I03FE00FHFC3FF8007FFC07F8,H0700380Q0E0070H07FKFI01FIFC0FF8001FLFH0MF01FF0I03FE00FLF8003FKF8,H
            0700380Q0E0070H07FKFI01FIF80FF80H0LFE007FKF01FF0I03FE00FLFI03FKF0,H0780780Q070070H07FKF80H0JF80FF80H0LFC007FKF01F
            F0I03FE00FKFE0H01FKF0,H0380F0R038060H07FKF80H0IFC00FF80H01FIFE0H03FHFEFF01FE0I03FC00FEFIF80I07FIF80,H0380E0R03806
            0H07FKF80H07FF800FF0J07FHFC0I0IFE7F01FC0I03FC00FC7FHFK03FIF,H03C1E0R03C0E0H07FKF80H01FE0H0FE0J03FHFK07FF87F01F80I
            03F800F03FFC0K0IFC,H01C1C0R01E0C0H07FKF80I0780H0F0L01F80J01FC01E01C0J03E0H0C007E0L03FF0,H01C380S0F1C0,I0C3FJF80I0
            LF3C0,I0E7FJF80I0LF380,I067FJFC0H01FKF780,I070K0C0H01C0J070N010hT06,I0780J0E0H03C0J0F0I01FF04380Q080P080I040gI061
            0,I03C0J0F0H0780I01E0I01800410R080P080I040gJ010,I01E0J07800F0J01C0I010H040S080P080I040gJ010,I01E0J03800E0J0380I01
            0H040S080P080I040gJ010,J0F0J03C00E0J0380I01001F901F1080203C07E07C83C0H0F880F804009E0F007C42E003F803E426213E007E0,
            J070J01C00C0J070J010H041030F08020E30181C28630018E838E0400A31981C24380020C0E1C28214380C30,J03C0I01E03C0I01F0J01FF0
            410E030802181C08301840H070182038400C1E04301C20H0C06180C3021C0C1818,J01E0J0E0380I03C0J01FF04108030802100408600840H
            04008200840080C042004200180030042021006300C,J01F0J070780I0380J010H04108010802300408400860H04008600840080C04200420
            010H0200420210022004,K0F80I03070J070K010H041080108023FFE084008380040087FF840080C04200420010H0200420210023FFC,K078
            0I038F0J0E0K010H0410801080220I0840080C00400840H040080804200420010H02004202100220,K01F0I03DE0I07E0K010H04108030806
            30I0840080300400860H040080804200420010H02004202100220,L0FC0H01DC0I0F80K010H0410803080410I086008010040082008400808
            0420042001800300420210043008,L07E0I0F80H01F0L010H0410C030C04180808200801006038201840080804200C20H0C00180C202180C1
            808,L01F0I0F80H07C0L01800410605040C081808101843003028303040080804181420H060C0C0C20214180810,M0FC0H070H01F80L01FF0
            4103B903F80E70080EE866001EE81CE0400808040E6420H0H38063C20217300670,M03F0H070H03F0U06100C003C0I0300180H030H070P030
            L0E00180K0C003C0,M01FF80300FFC0V01,N01FFC00FFE0W01,O07FKFY01,P0KF80X01,Q07FF80,,:::::::::::::::::::::::::::::::^XA
            ^MMT
            ^PW799
            ^LL0400
            ^LS0
            ^FT32,96^XG000.GRF,1,1^FS
            ^FT11,134^A0N,28,28^FH\^FDCodigo:^FS
            ^FT11,190^A0N,28,28^FH\^FDDescripcion:^FS
            ^FT11,261^A0N,28,28^FH\^FDAncho:^FS
            ^FT605,259^A0N,28,28^FH\^FDPeso:^FS
            ^FT11,326^A0N,28,28^FH\^FD' . $dato1 . ':^FS
            ^FT257,326^A0N,28,28^FH\^FDOperario:^FS
            ^FT257,259^A0N,28,28^FH\^FDMetros Lineales: ^FS
            ^FT619,165^BQN,2,5
            ^FH\^FDLA,' . $data['codigo'] . ';' . $data['ancho'] . ';' .  $data['ml'] . '^FS
            ^FO3,153^GB791,237,2^FS
            ^FO3,226^GB788,0,2^FS
            ^FO3,285^GB788,0,2^FS
            ^FO246,228^GB0,113,2^FS
            ^FO592,227^GB0,58,2^FS
            ^FT168,187^AAN,27,15^FH\^FD' . $descripcion1 . '^FS
            ^FT11,220^AAN,27,15^FH\^FD' . $descripcion2 . '^FS
            ^FT122,137^AAN,27,15^FH\^FD' . $data['codigo'] . '^FS
            ^FT101,262^AAN,27,15^FH\^FD' . $data['ancho'] . '^FS
            ^FT457,262^AAN,27,15^FH\^FD' . $data['ml'] . '^FS
            ^FT673,262^AAN,27,15^FH\^FD' . $data['peso'] . '^FS
            ^FT90,322^AAN,27,10^FH\^FD' . $dato2 . '^FS
            ^FT379,322^AAN,27,15^FH\^FD' . $operario . '^FS
            ^FO3,339^GB788,0,2^FS
            ^FT12,379^A0N,28,28^FH\^FDLote:^FS
            ^FT80,378^AAN,27,15^FH\^FD' . $data['lote'] . '^FS
            ^PQ' . $cantidad . ',0,1,Y^XZ
            ^XA^ID000.GRF^FS^XZ';
            echo $zpl;
            break;
    }

    ?>
</div>